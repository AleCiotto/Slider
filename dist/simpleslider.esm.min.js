var e,t,i="next",n="prev",s="control_prev",r="control_next",o={slide:"slide",active:"slide_active",prev:"slide_prev",next:"slide_next"},a={wrapperSelector:".".concat("slides"),controls:{prevBtnSelector:".".concat(s),nextBtnSelector:".".concat(r)},slides:{slideSelector:".".concat(o.slide),activeSlideSelector:".".concat(o.active),prevSlideSelector:".".concat(o.prev),nextSlideSelector:".".concat(o.next)}};!function(e){e[e.Idle=0]="Idle",e[e.Prev=1]="Prev",e[e.Next=2]="Next"}(e||(e={})),function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active",e[e.Next=2]="Next",e[e.Prev=3]="Prev"}(t||(t={}));var c=function(){function t(e,t){this._active=[],this._prev=[],this._next=[],this._active=e.active,this._prev=e.prev,this._next=e.next,this._lastIndex=t}return Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this._active=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return this._prev},set:function(e){this._prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastIndex",{get:function(){return this._lastIndex},set:function(e){this._lastIndex=e},enumerable:!1,configurable:!0}),t.prototype._increaseValue=function(e){var t=this;return e.map((function(e){return e!=t.lastIndex?++e:0}))},t.prototype._decreaseValue=function(e){var t=this;return e.map((function(e){return e?--e:t.lastIndex}))},t.prototype._jumpToValue=function(e,t){var i=this;return t.map((function(t){return t+e>i.lastIndex?t+e-i.lastIndex-1:t+e}))},Object.defineProperty(t.prototype,"change",{set:function(t){switch(t){case e.Next:this.active=this._increaseValue(this.active),this.next=this._increaseValue(this.next),this.prev=this._increaseValue(this.next);break;case e.Prev:this.active=this._decreaseValue(this.active),this.next=this._decreaseValue(this.next),this.prev=this._decreaseValue(this.next)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeTo",{set:function(e){this.active=this._jumpToValue(e,this.active),this.next=this._jumpToValue(e,this.next),this.prev=this._jumpToValue(e,this.prev)},enumerable:!1,configurable:!0}),t}(),l=function(e,t){e&&e.classList.add(t)},h=function(e,t){e&&e.classList.remove(t)},p=function(){function t(t,i){this._wrapElem=t,this._options=i;var n=this._slides=this._wrapElem.querySelectorAll(this._options.slides.slideSelector);this._slidesIndex={active:[0],next:[1],prev:[n.length-1]},this._direction=e.Idle,this._actors=new c(this._slidesIndex,n.length-1),this._animating=!1,this._slideList=this._createSlideList(this._slidesIndex),this._updateAllSlidesClasses(),n.length&&this._eventsHandler()}return t.prototype._createSlideList=function(e){var t=this;return{active:e.active.map((function(e){return t._slides[e]})),prev:e.prev.map((function(e){return t._slides[e]})),next:e.next.map((function(e){return t._slides[e]}))}},t.prototype._eventsHandler=function(){this._wrapElem.addEventListener("transitionend",this._animationEnd.bind(this),!1)},Object.defineProperty(t.prototype,"movedTo",{get:function(){return this._direction},set:function(t){this._animating||(this._animating=!0,this._direction=t,t===e.Prev&&2===this._slides.length&&this._updateSlidesClasses(this._slideList.prev,o.prev),l(this._wrapElem,t===e.Prev?n:i))},enumerable:!1,configurable:!0}),t.prototype._animationEnd=function(){this._actors.change=this.movedTo,this._updateAllSlidesClasses(),h(this._wrapElem,this.movedTo===e.Prev?n:i),this._animating=!1},t.prototype._updateAllSlidesClasses=function(){var e=this._slideList,t=this._createSlideList(this._actors),i=t.active.concat(t.next,t.prev),n=e.active.concat(e.next,e.prev).filter((function(e){return-1===i.indexOf(e)}));this._slideList=t,this._updateSlidesClasses(n),this._updateSlidesClasses(t.active,o.active),this._updateSlidesClasses(t.next,o.next),this._slides.length>2&&this._updateSlidesClasses(t.prev,o.prev)},t.prototype._updateSlidesClasses=function(e,t){void 0===t&&(t="");for(var i=0;i<e.length;i++)h(e[i],o.active),h(e[i],o.next),h(e[i],o.prev),t&&l(e[i],t)},t}(),d=function(){function t(e,t){this._options=null!=t?Object.assign(a,t):a,null!=e?(this._sliderElement="string"==typeof e?document.querySelector(e):e,this._wrapperElement=this._sliderElement.querySelector(this._options.wrapperSelector),this._wrapper=new p(this._wrapperElement,this._options),this._prevBtn=this._sliderElement.querySelector(this._options.controls.prevBtnSelector),this._nextBtn=this._sliderElement.querySelector(this._options.controls.nextBtnSelector),this._init()):console.error("Wrong selector for slider was used: ",e)}return t.prototype._init=function(){this._prevBtn&&this._prevBtn.addEventListener("click",this.move.bind(this,e.Prev),!1),this._nextBtn&&this._nextBtn.addEventListener("click",this.move.bind(this,e.Next),!1)},t.prototype.move=function(e){this._wrapper&&(this._wrapper.movedTo=e)},t}();export{d as Slider};
